<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --green: #4CAF50;
      --white: #FFFFFF;
      --yellow: #FFEB3B;
      --red: #F44336;
      --gold: #ffc107;
    }
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: var(--white);
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: var(--white);
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .header {
      display: flex;
      align-items: center;
      margin-bottom: 30px;
      border-bottom: 2px solid var(--green);
      padding-bottom: 20px;
    }
    .header img {
      height: 80px;
      margin-right: 20px;
    }
    .header h1 {
      margin: 0;
      color: var(--green);
      font-size: 2.5em;
    }
    .btn {
      padding: 12px 25px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1.1em;
      transition: background-color 0.3s ease;
      margin: 5px;
    }
    .btn-green {
      background-color: var(--green);
      color: var(--white);
    }
    .btn-green:hover {
      background-color: #388E3C;
    }
    .btn-secondary {
      background-color: #9e9e9e;
      color: var(--white);
    }
    .btn-secondary:hover {
      background-color: #757575;
    }
    .login-section, .hof-section, .badges-section {
      text-align: center;
      margin-bottom: 30px;
    }
    .login-section input[type="text"] {
      padding: 12px;
      width: 60%;
      max-width: 300px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1.1em;
      margin-right: 10px;
    }
    .student-info {
      background-color: #e8f5e9;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 25px;
      border: 1px solid var(--green);
    }
    .student-info p {
      margin: 8px 0;
      font-size: 1.1em;
    }
    .student-info p strong {
      color: var(--green);
    }
    .nilai-table, .hof-table, .badges-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    .nilai-table th, .nilai-table td, .hof-table th, .hof-table td, .badges-table th, .badges-table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: center;
    }
    .nilai-table th {
      background-color: var(--green);
      color: var(--white);
      font-weight: bold;
    }
    .nilai-table tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    .nilai-table tr:hover {
      background-color: #f1f1f1;
    }
    .highlight-row {
      background-color: var(--yellow) !important;
      font-weight: bold;
    }
    .hof-table thead th {
      background-color: var(--gold);
      color: var(--white);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .hof-table tr:nth-child(odd) {
      background-color: #f9f9f9;
    }
    .hof-table tr:hover {
      background-color: #f1f1f1;
    }
    .badges-table th {
      background-color: #f0ad4e;
      color: var(--white);
      font-weight: bold;
    }
    #error-message-nilai, #error-message-hof, #error-message-badges {
      color: var(--red);
      text-align: center;
      margin-top: 15px;
      font-weight: bold;
    }
    #loading-message {
      text-align: center;
      font-size: 1.2em;
      color: var(--green);
      font-weight: bold;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="https://iili.io/FqqmPFp.png" alt="Logo Sekolah">
      <h1 id="pageTitle">MATH CASTLE</h1>
    </div>
    
    <div style="text-align:center; margin-bottom: 20px;">
      <button class="btn btn-green" id="showNilaiBtn" onclick="showSection('nilai')">Lihat Nilai</button>
      <button class="btn btn-secondary" id="showBadgesBtn" onclick="showSection('badges')">My Badges</button>
      <button class="btn btn-secondary" id="showHofBtn" onclick="showSection('hof')">Hall Of Fame</button>
    </div>

    <div id="loading-message">Mengambil data dari server...</div>

    <div id="nilai-section" style="display:none;">
      <div class="login-section">
        <p>Masukkan NISN Anda untuk melihat nilai:</p>
        <input type="text" id="nisnInputNilai" placeholder="Masukkan NISN">
        <button class="btn btn-green" onclick="getNilai()">Cari Nilai</button>
        <div id="error-message-nilai"></div>
      </div>
      <div id="result-container-nilai" style="display:none;">
        <div class="student-info">
          <p><strong>NAMA LENGKAP : </strong> <span id="namaLengkapNilai"></span></p>
          <p><strong>NISN : </strong> <span id="nisnDisplayNilai"></span></p>
          <p><strong>KELAS : </strong> <span id="kelasDisplay"></span></p>
          <p><strong>PREDIKAT : </strong> <span id="predikatNilai"></span></p>
          <p><strong>KEHADIRAN : </strong> <span id="kehadiranDisplay"></span></p>
        </div>
        <table class="nilai-table">
          <thead>
            <tr>
              <th>ASPEK PENILAIAN</th>
              <th>NILAI</th>
            </tr>
          </thead>
          <tbody id="nilaiTableBody"></tbody>
        </table>
      </div>
    </div>

    <div id="badges-section" style="display:none;">
      <div class="login-section">
        <p>Masukkan NISN Anda untuk melihat My Badges:</p>
        <input type="text" id="nisnInputBadges" placeholder="Masukkan NISN">
        <button class="btn btn-green" onclick="getBadges()">Cari Badges</button>
        <div id="error-message-badges"></div>
      </div>
      <div id="result-container-badges" style="display:none;">
        <div class="student-info">
          <p><strong>NAMA LENGKAP : </strong> <span id="namaLengkapBadges"></span></p>
          <p><strong>NISN : </strong> <span id="nisnDisplayBadges"></span></p>
          <p><strong>POIN : </strong> <span id="poinDisplay"></span></p>
        </div>
        <h2 style="text-align: center;">MY BADGES</h2>
        <table class="badges-table">
          <thead>
            <tr>
              <th>NO.</th>
              <th>BADGES</th>
              <th>POIN</th>
            </tr>
          </thead>
          <tbody id="myBadgesTableBody"></tbody>
        </table>
      </div>
    </div>

    <div id="hof-section" style="display:none;">
      <div class="table-container">
        <table class="hof-table">
          <thead>
            <tr>
              <th>No.</th>
              <th>Nama</th>
              <th>Poin</th>
              <th>Badges</th>
            </tr>
          </thead>
          <tbody id="hofTableBody"></tbody>
        </table>
      </div>
      <div id="hof-loading-message" style="display:none;"><p>Loading data...</p></div>
      <div id="error-message-hof" class="error-message" style="display:none;"></div>
    </div>
  </div>
</body>
</html>
